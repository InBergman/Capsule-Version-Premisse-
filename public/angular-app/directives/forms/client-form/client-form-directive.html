<form ng-init='vm.init()'>
  <div ng-if="vm.message" class="alert alert-success" role="alert">
    <p>{{ vm.message }}</p>
  </div>
  <div ng-if="vm.error" class="alert alert-danger" role="alert">
    {{vm.error}}
  </div>
  <div class="container">
    <form>
      <div class="form-group row">
        <label for="userName" class="col-sm-2 col-form-label">Nom d'utlisateur</label>
        <div class="col-sm-5 col-sm-offset-1">
          <input type="text" class="form-control" id="userForename" placeholder="Prenom" ng-model="vm.user.userForename" required ng-disabled='true'>
        </div>
        <div class="col-sm-5">
          <input type="text" class="form-control" id="userSurename" placeholder="Nom" ng-model="vm.user.userSurname" required ng-disabled='true'>
        </div>
      </div>
      <div class="form-group row">
        <label for="clientName" class="col-sm-2 col-form-label">Nom du l'entreprise</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="clientName" placeholder="..." ng-model="vm.client.clientName" required ng-disabled=vm.disabled>
        </div>
      </div>
      <div class="form-group row">
        <label for="input-file" class="col-sm-2 col-form-label">Avatar du client</label>
        <div class="col-sm-10">
          <img ng-show="vm.filepreview" ng-src="{{vm.filepreview}}" class="img-responsive rounded-circle avatar" style='display:inline-block;' />
          <img ng-show="!vm.filepreview" ng-src="{{vm.client.clientAvatar ? vm.client.clientAvatar : 'http://localhost:3000/images/avatar.png'}}" class="img-responsive rounded-circle avatar" style='display:inline-block;' />
          <label ng-show='vm.disabled == false' onclick="document.querySelector('#input-file').click()" style='cursor:pointer;'>{{(type == 'PUT' ? "Modifier" : "Ajouter")}} l'avatar </label>
          <input id='input-file' type="file" fileinput="vm.myFile" filepreview="vm.filepreview" style="display: none" />
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 col-form-label">Adresse</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="l1" placeholder="12 boulevard de la liberation" ng-model="vm.client.adress.l1" required ng-disabled=vm.disabled>
          <p class='form-p'>Supplément d'adresse</p>
          <input type="text" class="form-control" id="l2" placeholder="Res. Messonier" ng-model="vm.client.adress.l2" required ng-disabled=vm.disabled>
          <p class='form-p'>Code Postal</p>
          <input type="text" class="form-control" id="cp" placeholder="93200" ng-model="vm.client.adress.cp" required ng-disabled=vm.disabled>
          <p class='form-p'>Ville</p>
          <input type="text" class="form-control" id="city" placeholder="St-Denis" ng-model="vm.client.adress.city" required ng-disabled=vm.disabled>
        </div>
      </div>
      <div class="form-group row">
        <label for="siret" class="col-sm-2 col-form-label">Siret</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="siret" placeholder="FR63551445030018" ng-model="vm.client.siret" required ng-disabled=vm.disabled>
        </div>
      </div>
      <div class="form-group row">
        <label for="presta" class="col-sm-2 col-form-label">Description du projet</label>
        <div class="col-sm-10">
          <textarea class="form-control" placeholder="courte description de la prestation souhaitée..." id="presta" rows="3" ng-model="vm.client.presta" required ng-disabled=vm.disabled></textarea>
        </div>
      </div>
      <div class="form-group row">
        <div class="offset-sm-2 col-sm-10">
          <button type="submit" class="btn btn-primary" ng-show='vm.disabled == false' ng-click="vm.addClient()" style='margin-bottom:1em;'>{{(type == 'PUT' ? "Modifier" : "Créer")}} le client</button>
        </div>
      </div>
    </form>
  </div>
</form>
